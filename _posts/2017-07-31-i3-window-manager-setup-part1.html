---
layout: post
title: i3 Window Manager Setup
date: '2017-07-31T02:16:00.001-07:00'
author: "@eamoc"
tags: 
modified_time: '2019-01-28T15:14:06.809-08:00'
blogger_id: tag:blogger.com,1999:blog-6955428370236550107.post-4096617598290374281
blogger_orig_url: https://eamoc.blogspot.com/2017/07/i3-window-manager-setup-part1.html
---

You will see from my last post that I installed the i3 window manager, as opposed to a full blown desktop environment.<br />I had grown tired of the Gnome desktop a long time ago, and had briefly flirted with KDE. Now don't get me wrong, KDE is easily the snazziest DE out there, with loads of apps built in to it, but its very resource hungry. I was also using the XFCE desktop for a good while as well, but I suppose I wanted the challenge of somethng new.<br />I grew tired of using the mouse. I became aware of how it, and the whole WIMP paradigm (thats Windows, Icons, Menu, Pointers) can sap your concentration.<br />Using a window manager in conjunction with solid keybindings, can increase your productivity considerably.<br /><br />The i3 Window Manager came out in 2009, roughly one year after Void Linux.<br />It is a tiling window manager that is highly configurable.<br />When you first install i3 it, isn't much to look at. However, the user guide is very good, and it has a fairly strong community that has groups on reddit, stackexchange etc. It can be found here:<br /><div style="text-align: center;"><br /></div><div style="text-align: center;"><b>https://i3wm.org/docs/userguide.html</b></div><div style="text-align: center;"><br /></div><div style="text-align: left;">All the configuration is done in its config file. In fact <i>all</i> of its keybindings are specified here, that is, on my machine at least (ymmv):</div><div style="text-align: left;"><br /></div><div style="text-align: center;"><b>~/.config/i3/config</b> </div><div style="text-align: left;"><br /></div><div style="text-align: left;">The user is invited to modify this file as much as s/he likes. However, it is not recommended to change the predefined keybindings as it can seriously mess it up.</div><div style="text-align: left;">Because its memory footprint is so low, the user does not feel guilty when s/he sets it up so that her favourite apps are running by default. For example I have a web browser, irc chat, music and bittorrent app, all running by default. They all run in their own specied workspaces, and there for a simple keystroke will bring me straight to them.</div><div style="text-align: left;"><br /></div><div style="text-align: left;">The first thing that I did to this file was to set workspace variables, so that I could reference them anywhare I liked in the config file:</div><div style="text-align: left;">i.e</div><div style="text-align: center;"><b>set $workspace1 "whatever"</b></div><div style="text-align: center;"><b>set $workspace2 "somethingelse"</b></div><div style="text-align: left;"><br /></div><div style="text-align: left;">This defines workspace as specified labels<b> </b>which can then be referenced by $workspace1 or $workspace2 etc.</div>The next thing I did was to get certain programs to launch into these workspaces. I3 uses a programs WM class name as a handle. You can get this by running a tool called <b>xprop</b>. This then changes the cursor to a crosshair. You then click on the running program to produce output some of which looks like this:<br /><br />_NET_WM_OPAQUE_REGION(CARDINAL) = <br />_NET_WM_WINDOW_TYPE(ATOM) = _NET_WM_WINDOW_TYPE_NORMAL<br />_NET_WM_SYNC_REQUEST_COUNTER(CARDINAL) = 41943205, 41943206<br />_NET_WM_USER_TIME(CARDINAL) = 24761957<br />_NET_WM_USER_TIME_WINDOW(WINDOW): window id # 0x28000a4<br />WM_CLIENT_LEADER(WINDOW): window id # 0x2800001<br />_NET_WM_PID(CARDINAL) = 21713<br />WM_LOCALE_NAME(STRING) = "en_IE.UTF-8"<br />WM_CLIENT_MACHINE(STRING) = "knut"<br />WM_NORMAL_HINTS(WM_SIZE_HINTS):<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; program specified minimum size: 300 by 96<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; program specified base size: 300 by 96<br />&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; window gravity: NorthWest<br />WM_PROTOCOLS(ATOM): protocols&nbsp; WM_DELETE_WINDOW, WM_TAKE_FOCUS, _NET_WM_PING, _NET_WM_SYNC_REQUEST<br /><b>WM_CLASS(STRING) = "Navigator", "Firefox"</b><br />WM_ICON_NAME(STRING) = "Blogger: @eamoc #eamostechdiary - Edit post - Mozilla Firefox"<br />_NET_WM_ICON_NAME(UTF8_STRING) = "Blogger: @eamoc #eamostechdiary - Edit post - Mozilla Firefox"<br />WM_NAME(STRING) = "Blogger: @eamoc #eamostechdiary - Edit post - Mozilla Firefox"<br />_NET_WM_NAME(UTF8_STRING) = "Blogger: @eamoc #eamostechdiary - Edit post - Mozilla Firefox"<br /><div style="text-align: left;"><br /></div><div style="text-align: left;">The line highlighted in bold gives us the info we need to launch firefox in a specified window. Eg:<br /><br /><div style="text-align: center;"><b>assign [class="Firefox"] $workspace8</b></div><div style="text-align: left;">This command is then followed up with an execute command:</div><div style="text-align: center;"><b>exec firefox</b></div><div style="text-align: center;"></div></div><br />Other apps I wanted to launch with <b>i3</b> included console applications. This presents a bit of a problem.<br /><br />To match on a terminal-based program such as <b>irssi</b>, e.g.,  in order to send it to a specific workspace, some way is needed to  distinguish that instance of my terminal emulator, in this case <b>urxvt</b>. As a window  manager, <b>i3</b> only sees an X11 client â€“ it neither knows (nor cares) about  what that client does; in particular, i3 has no way of knowing that  it's a terminal emulator capable of running some command within it.<br />The most common and reliable way to distinguish a specific emulator instance is by setting its <code>WM_CLASS</code>.<br />Let's assume you're using urxvt (also known as rxvt-unicode.) For urxvt, you can use the <code>-name</code>&nbsp; flag like this:<br /><div style="text-align: center;"><pre><code><b>exec urxvt -name irssi_instance -e irssi</b></code></pre><pre><code><b>&nbsp;</b><br /></code></pre></div>Now you can match on this window in your i3 config like this:<br /><pre><code>&nbsp;</code></pre><pre><code><b>assign [instance="irssi_instance"] $workspace8</b></code></pre><div style="text-align: left;"><br /></div><div style="text-align: left;">I use terminal apps for music (cmus) and rtorrent as my bittorrent client. These all launch in their own workspaces.</div>